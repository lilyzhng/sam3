# SAM3 Lane Line Detection Configuration
# ==========================================

# Inference mode for video files:
#   - "video": Session-based video tracking with temporal propagation (recommended)
#              Objects are detected on prompt_frame and tracked across all frames.
#              Provides temporal consistency - same object keeps same ID across frames.
#   - "frame": Per-frame inference without temporal tracking
#              Each frame is processed independently. Faster but no temporal consistency.
mode: "video"

# Lane type definitions with prompts and colors
# Each lane type gets:
#   - A specific text prompt for detection
#   - A unique color for visualization
#   - All instances of that type share the same color
#
# NOTE: For nighttime/low-light videos, use simpler, more general prompts
# SAM3 works better with visual descriptions rather than semantic labels
lane_types:
  - name: "lane_marking"
    prompt: "white paint on road"
    color: [0, 255, 255]  # Cyan
    
  - name: "curb_marking"
    prompt: "painted curb"
    color: [255, 0, 255]  # Magenta

  - name: "dotted_line"
    prompt: "dotted line on road"
    color: [0, 255, 0]  # Green

# Inference settings
inference:
  # Frame to add initial text prompts (0 = first frame)
  # TIP: If frame 0 has poor visibility, try a later frame with clearer lane markings
  prompt_frame: 24
  
  # Mask overlay transparency (0.0 = invisible, 1.0 = opaque)
  alpha: 0.7
  
  # Whether to show frame numbers on output video
  show_frame_numbers: false
  
  # Confidence threshold for detections (only used in frame mode)
  confidence_threshold: 0.3

# Output settings
output:
  # Add timestamp prefix to output files (prevents overwriting)
  timestamp_prefix: true
  
  # Save individual frame images to sam3_frame_output/<timestamp>/frame_XX.jpg
  save_frame_images: true
  
  # Output video codec
  codec: "mp4v"

